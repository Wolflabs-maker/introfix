<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Wolf Labs C1 Advanced Simulation - Sovereignty vs Social Debt">
    <title>WOLF LABS | SOVEREIGNTY DILEMMAS</title>
    
    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Montserrat:wght@700;800;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- ICONS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        /* --- WOLF DESIGN SYSTEM (INDIGO SERIES) --- */
        :root {
            --bg: #050505;
            --glass: rgba(255, 255, 255, 0.03);
            --glass-hover: rgba(255, 255, 255, 0.08);
            --border: rgba(108, 92, 231, 0.2);
            --theme: #6C5CE7; /* INDIGO */
            --magma: #FF6B00;
            --white: #FFFFFF;
            --gray: #888;
            --danger: #FF1744;
            --success: #2ECC71;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg);
            background-image: 
                linear-gradient(rgba(108, 92, 231, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(108, 92, 231, 0.03) 1px, transparent 1px),
                radial-gradient(circle at 50% 50%, #0d0a1a 0%, #000 95%);
            background-size: 50px 50px, 50px 50px, 100% 100%;
            font-family: 'Inter', sans-serif;
            color: var(--white);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }

        /* --- APP SHELL --- */
        .app-shell {
            width: 90%;
            max-width: 1200px;
            height: 85vh;
            min-height: 650px;
            background: rgba(10, 10, 10, 0.85);
            border: 1px solid var(--border);
            border-radius: 24px;
            backdrop-filter: blur(25px);
            display: flex;
            position: relative;
            box-shadow: 0 0 100px rgba(0,0,0,0.9);
            overflow: hidden;
        }

        .app-shell::after {
            content: ''; position: absolute; right: 0; top: 15%; height: 70%; width: 6px;
            background: var(--theme); border-radius: 4px 0 0 4px; box-shadow: 0 0 30px var(--theme);
        }

        /* --- SIDEBAR --- */
        .sidebar {
            width: 300px;
            border-right: 1px solid var(--border);
            padding: 40px 30px;
            display: flex;
            flex-direction: column;
            gap: 25px;
            background: rgba(0,0,0,0.4);
            flex-shrink: 0;
        }

        .logo { font-family: 'Montserrat', sans-serif; font-weight: 900; font-size: 22px; letter-spacing: 2px; margin-bottom: 30px; }
        .logo span { color: var(--theme); }

        .stat-card {
            background: var(--glass);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid var(--border);
            margin-bottom: 10px;
        }
        .stat-label { font-family: 'Space Mono'; font-size: 10px; color: var(--gray); text-transform: uppercase; margin-bottom: 10px; display: block; }
        .bar-bg { width: 100%; height: 6px; background: #222; border-radius: 3px; overflow: hidden; }
        .bar-fill { height: 100%; background: var(--theme); width: 50%; transition: width 0.6s cubic-bezier(0.22, 1, 0.36, 1); }

        /* --- MAIN STAGE --- */
        .main-stage {
            flex: 1;
            padding: 60px;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow-y: auto;
        }

        .header-section { margin-bottom: 40px; }
        .pill { 
            display: inline-block; padding: 4px 12px; border-radius: 4px; font-family: 'Montserrat'; 
            font-size: 9px; font-weight: 900; border: 1px solid var(--theme); color: var(--theme); 
            text-transform: uppercase; letter-spacing: 2px; margin-bottom: 15px;
            background: rgba(108, 92, 231, 0.05);
        }
        h1 { font-family: 'Montserrat'; font-weight: 900; font-size: 42px; text-transform: uppercase; letter-spacing: -2px; line-height: 1; }

        .scenario-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            max-width: 800px;
        }

        .scenario-text {
            font-size: 26px;
            line-height: 1.5;
            font-weight: 300;
            color: #ddd;
            margin-bottom: 50px;
            border-left: 4px solid var(--theme);
            padding-left: 30px;
        }

        .choices-grid {
            display: grid;
            gap: 20px;
        }

        .choice-btn {
            background: var(--glass);
            border: 1px solid var(--border);
            padding: 25px 30px;
            border-radius: 12px;
            text-align: left;
            cursor: pointer;
            transition: 0.3s;
            color: #fff;
            font-family: 'Inter';
            font-size: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .choice-btn:hover { 
            border-color: var(--white); 
            background: var(--glass-hover); 
            transform: translateX(10px); 
        }
        .choice-btn i { color: var(--theme); opacity: 0; transition: 0.3s; }
        .choice-btn:hover i { opacity: 1; }

        /* SPEAKING PROMPT OVERLAY */
        .prompt-overlay {
            position: absolute;
            inset: 0;
            background: rgba(5,5,5,0.98);
            z-index: 100;
            display: none;
            flex-direction: column;
            padding: 60px;
            justify-content: center;
            align-items: center;
            text-align: center;
            border-radius: 20px;
        }

        .prompt-card {
            background: rgba(15,15,15,1);
            border: 1px solid var(--theme);
            padding: 50px;
            border-radius: 20px;
            width: 100%;
            max-width: 700px;
            box-shadow: 0 0 80px rgba(108, 92, 231, 0.15);
        }

        .prompt-title { font-family: 'Space Mono'; color: var(--theme); font-size: 11px; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 4px; font-weight: 700; display: block; }
        .prompt-instruction { font-size: 28px; font-weight: 300; line-height: 1.4; margin-bottom: 40px; color: #fff; }
        .prompt-instruction b { color: var(--theme); font-weight: 800; }

        .btn-continue {
            background: var(--theme);
            color: #000;
            border: none;
            padding: 18px 50px;
            border-radius: 6px;
            font-family: 'Montserrat';
            font-weight: 900;
            text-transform: uppercase;
            cursor: pointer;
            letter-spacing: 2px;
            transition: 0.3s;
        }
        .btn-continue:hover { background: #fff; box-shadow: 0 0 30px rgba(255,255,255,0.3); }

        /* RESULTS SCREEN */
        .results-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            height: 100%;
        }

        .result-rank { font-size: 80px; font-family: 'Montserrat'; font-weight: 900; color: var(--theme); line-height: 1; margin-bottom: 15px; }

        /* FADE ANIMATION */
        .fade-in { animation: fadeInAnim 0.5s ease forwards; }
        @keyframes fadeInAnim { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* MOBILE RESPONSIVENESS */
        @media (max-width: 900px) {
            .app-shell { flex-direction: column; height: auto; width: 95%; margin: 20px 0; }
            .sidebar { width: 100%; border-right: none; border-bottom: 1px solid var(--border); }
            .main-stage { padding: 30px; }
            h1 { font-size: 30px; }
            .scenario-text { font-size: 18px; }
        }
    </style>
</head>
<body>

    <div class="app-shell">
        <!-- SIDEBAR: STATS -->
        <div class="sidebar">
            <div class="logo">WOLF<span>LABS</span></div>
            
            <div class="stat-card">
                <span class="stat-label">Sovereignty (Personal Power)</span>
                <div class="bar-bg"><div id="fill-sov" class="bar-fill"></div></div>
            </div>

            <div class="stat-card">
                <span class="stat-label">Social Debt (Guilt)</span>
                <div class="bar-bg"><div id="fill-debt" class="bar-fill" style="background: var(--magma);"></div></div>
            </div>

            <div style="margin-top: auto;">
                <p style="font-size: 10px; color: #333; font-family: 'Space Mono'; line-height: 1.4;">
                    C1 SENSORY PROTOCOL<br>
                    INDIGO SERIES // v5.1
                </p>
            </div>
        </div>

        <!-- MAIN STAGE -->
        <div class="main-stage">
            <div id="content-view" style="height: 100%; display: flex; flex-direction: column;">
                <div class="header-section">
                    <div id="scene-pill" class="pill">Protocol Initializing...</div>
                    <h1 id="scene-title">Sovereignty <span>Simulator</span></h1>
                </div>

                <div class="scenario-container" id="scenario-box">
                    <p id="scene-desc" class="scenario-text">
                        System loading...
                    </p>

                    <div id="choices-grid" class="choices-grid">
                        <!-- Botões injetados via JS -->
                    </div>
                </div>
            </div>

            <!-- PROMPT OVERLAY -->
            <div id="prompt-overlay" class="prompt-overlay">
                <div class="prompt-card">
                    <span class="prompt-title">C1 Linguistic Trigger</span>
                    <p id="prompt-text" class="prompt-instruction">
                        <!-- Texto injetado via JS -->
                    </p>
                    <button class="btn-continue" onclick="closePrompt()">MISSION COMPLETE</button>
                </div>
            </div>

            <!-- FINAL RESULTS -->
            <div id="results-screen" class="results-screen">
                <div class="pill">Final Ranking</div>
                <div id="final-rank" class="result-rank">Analyzing...</div>
                <p id="final-desc" style="max-width: 600px; margin-top: 30px; font-size: 18px; color: #ccc; line-height: 1.6;">
                    Result summary loading...
                </p>
                <button class="btn-continue" style="margin-top: 50px; background: transparent; border: 1px solid #fff; color: #fff;" onclick="location.reload()">RESTART PROTOCOL</button>
            </div>

        </div>
    </div>

    <script>
        /* --- DADOS DO SIMULADOR --- */
        let currentStep = 0;
        let sovereignty = 50;
        let socialDebt = 20;

        const scenarios = [
            {
                pill: "Dilemma 01/05",
                title: "The <span>Impromptu</span> Desk-Meeting",
                desc: "A colleague walks up to your desk while you are in Deep Work mode. 'Hey, do you have 5 minutes for a quick brainstorm?'",
                choices: [
                    { 
                        text: "Sigh and say yes. You don't want to look 'uncollaborative'.",
                        dSov: -15, dDebt: +20,
                        prompt: "Use a <b>CLEFT SENTENCE</b> to admit your frustration:<br><i>'What frustrated me most was...'</i>"
                    },
                    { 
                        text: "Say: 'Actually, I'm in the zone. Let's talk at 4 PM.'",
                        dSov: +20, dDebt: -10,
                        prompt: "Use <b>INVERSION</b> to state your working style:<br><i>'Seldom do I interrupt my focus before...'</i>"
                    }
                ]
            },
            {
                pill: "Dilemma 02/05",
                title: "The <span>Unknown</span> Caller",
                desc: "Your phone rings. It's an 'Unknown' number. You are in the middle of a peaceful reading hour.",
                choices: [
                    { 
                        text: "Answer it immediately. It might be an 'urgent' client.",
                        dSov: -20, dDebt: +15,
                        prompt: "Explain using a <b>CLEFT SENTENCE</b> por que se arrepende:<br><i>'What I should have done was...'</i>"
                    },
                    { 
                        text: "Watch it ring, turn it face down, and continue reading.",
                        dSov: +25, dDebt: 0,
                        prompt: "Use <b>INVERSION</b> to justify your boundary:<br><i>'Never have I felt more productive than when...'</i>"
                    }
                ]
            },
            {
                pill: "Dilemma 03/05",
                title: "The <span>Expensive</span> Wedding",
                desc: "A distant cousin invites you to a destination wedding. It costs $2000 and 4 days of social energy. You hate travel.",
                choices: [
                    { 
                        text: "Go. You don't want to explain your 'selfish' reasons to the family.",
                        dSov: -30, dDebt: +40,
                        prompt: "Use a <b>CLEFT SENTENCE</b> to define your real need:<br><i>'What I actually wanted to do with that money was...'</i>"
                    },
                    { 
                        text: "Decline politely. Tell them you're focusing on personal projects.",
                        dSov: +30, dDebt: +10,
                        prompt: "Use <b>INVERSION</b> to refuse firmly:<br><i>'Under no circumstances can I justify...'</i>"
                    }
                ]
            },
            {
                pill: "Dilemma 04/05",
                title: "The <span>Happy Hour</span> Trap",
                desc: "Your team is going for drinks at 6 PM on Friday. You just want to sit in a dark room and listen to music.",
                choices: [
                    { 
                        text: "Force yourself to go for one drink. You stay for four.",
                        dSov: -20, dDebt: +30,
                        prompt: "Use <b>CLEFT SENTENCE</b> to evaluate the night:<br><i>'What drained me most about that bar was...'</i>"
                    },
                    { 
                        text: "Go home immediately. Radical honesty about your battery level.",
                        dSov: +20, dDebt: -10,
                        prompt: "Use <b>INVERSION</b> to describe your recharge:<br><i>'Scarcely had I entered my house when...'</i>"
                    }
                ]
            },
            {
                pill: "Dilemma 05/05",
                title: "The <span>Feedback</span> Crisis",
                desc: "A peer asks for feedback on a 'terrible' idea. Do you protect their feelings or the project?",
                choices: [
                    { 
                        text: "Say 'It looks promising!' and fix it yourself later.",
                        dSov: -10, dDebt: +20,
                        prompt: "Use a <b>CLEFT SENTENCE</b> to admit the mistake:<br><i>'What I lacked in that moment was the courage to...'</i>"
                    },
                    { 
                        text: "Say 'Honestly, it's inefficient. Let's look at why.'",
                        dSov: +20, dDebt: -5,
                        prompt: "Use <b>INVERSION</b> to emphasize clarity:<br><i>'Only by being clear can we...'</i>"
                    }
                ]
            }
        ];

        /* --- LÓGICA DO JOGO --- */
        function renderScene() {
            if (currentStep >= scenarios.length) {
                showResults();
                return;
            }

            const current = scenarios[currentStep];
            document.getElementById('scene-pill').innerText = current.pill;
            document.getElementById('scene-title').innerHTML = current.title;
            document.getElementById('scene-desc').innerText = current.desc;

            const grid = document.getElementById('choices-grid');
            grid.innerHTML = '';

            current.choices.forEach(c => {
                const btn = document.createElement('button');
                btn.className = 'choice-btn';
                btn.innerHTML = `${c.text} <i class="fa-solid fa-chevron-right"></i>`;
                btn.onclick = () => selectChoice(c);
                grid.appendChild(btn);
            });

            // Animação de entrada
            const box = document.getElementById('scenario-box');
            box.classList.remove('fade-in');
            void box.offsetWidth; 
            box.classList.add('fade-in');
        }

        function selectChoice(choice) {
            sovereignty += choice.dSov;
            socialDebt += choice.dDebt;

            sovereignty = Math.max(5, Math.min(100, sovereignty));
            socialDebt = Math.max(0, Math.min(100, socialDebt));

            updateBars();

            // Mostrar Gatilho C1
            document.getElementById('prompt-text').innerHTML = choice.prompt;
            document.getElementById('prompt-overlay').style.display = 'flex';
        }

        function updateBars() {
            document.getElementById('fill-sov').style.width = sovereignty + '%';
            document.getElementById('fill-debt').style.width = socialDebt + '%';
        }

        function closePrompt() {
            document.getElementById('prompt-overlay').style.display = 'none';
            currentStep++;
            renderScene();
        }

        function showResults() {
            document.getElementById('content-view').style.display = 'none';
            document.getElementById('results-screen').style.display = 'flex';
            
            const rank = document.getElementById('final-rank');
            const desc = document.getElementById('final-desc');

            if (sovereignty > 75 && socialDebt < 30) {
                rank.innerText = "THE SOBERANE";
                rank.style.color = "var(--success)";
                desc.innerText = "You have mastered the art of the 'No'. You protect your energy like a finite currency. Your C1 English is a tool for boundary setting, not just conversation.";
            } else if (sovereignty < 40) {
                rank.innerText = "THE PLEASER";
                rank.style.color = "var(--magma)";
                desc.innerText = "You are drowning in Social Debt. You prioritize 'looking nice' over 'being efficient'. Use your Cleft Sentences to start reclaiming your time.";
            } else {
                rank.innerText = "THE DIPLOMAT";
                rank.style.color = "var(--theme)";
                desc.innerText = "You negotiate well. You know when to give and when to hide. Keep practicing Inversion to show more authority in your refusals.";
            }
        }

        // Iniciar
        window.onload = () => {
            renderScene();
            updateBars();
        };
    </script>
</body>
</html>